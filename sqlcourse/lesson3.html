<!DOCTYPE html>
<html>
    <head>
        <title> Lectia 3. Inserarea si selectarea datelor </title>

        <!-- title icon -->
        <link rel="icon" href="../images/logo.png" type="image/icon type">

        <!-- css links -->
        <link rel="stylesheet" type="text/css" href="lesson.css">
    </head>
<body>
    <h1> Lectia 2. Inserarea si selectarea datelor din tabele </h1>
    <hr>
    <h2> Despre ce vom discuta azi: </h2>
    <ul>
        <li>
            <a href="#q1"> Crearea bazei de date si a tabelelor cu care vom lucra astazi </a>
        </li>
        <li>
            <a href="#q2"> Inserarea datelor intr-un tabel. Instructiunea INSERT </a>
        </li>
        <li>
            <a href="#q3"> Selectarea datelor dintr-un tabel. Instructiunea SELECT </a>
        </li>
        <li>
            <a href="#q4"> Clauza WHERE. </a>
        </li>
    </ul>
    <hr>

    <h2 id="q1"> Crearea bazei de date si a tabelelor cu care vom lucra astazi</h2>
    <p> Astazi vom lucra cu baza de date "companie". Astfel, deschidem un query nou si rulam codul de mai jos: </p>

    <code>
        <span class="key">CREATE DATABASE </span> companie
    </code>

    <p> Pentru a crea tabelele intr-o baza de date, trebuie sa specificam pe care baza de date o vom folosi. Pentru
        a specifica baza de date pe care o vom utiliza, in cazul nostru baza de date "companie", rulam codul de mai jos:
    </p>

    <code>
        <span class="key">USE </span> companie
    </code>

    <p>
        In continuare vom creea tabelel cu care vom lucra astazi.
        <br>
        Primul tabel este tabelul "angajati" care va avea ca cheie primara coloana "id_angajat". 
        Pentru a crea acest tabel rulam codul de mai jos:
    </p>
<pre>
<code>
<span class="key">CREATE TABLE</span> angajati (
    id_angajat <span class="key">int PRIMARY KEY</span>,
    nume_angajat <span class="key">varchar(50)</span>,
    prenume_angajat <span class="key">varchar(50)</span>,
    functia <span class="key">varchar(100)</span>
);
</code>
</pre>

    <p>
        Urmatorul tabel este tabelul "premii" care va fi conectat cu tabelul anagajti prin cheia straina "id_angajat".
    </p>
<pre>
<code>
<span class="key">CREATE TABLE</span> premii (
    id_premiu <span class="key">int PRIMARY KEY</span>,
    suma <span class="key">money</span>,
    id_angajat <span class="key">int FOREIGN KEY REFERENCES</span> angajati(id_angajat)
);
</code>
</pre>
    <hr>

    <h2 id="q2"> Inserarea datelor intr-un tabel. Instructiunea INSERT </h2>

    <p>
        Instructiunea INSERT in SQL Server este utilizata pentru a adauga rsnduri de date intr-o tabela.
        <br>
        Iata sintaxa de baza:
    </p>

<pre>
<code>
<span class="key">INSERT INTO</span> nume_tabel (coloana1, coloana2, coloana3, ...)
<span class="key">VALUES</span> (valoare1, valoare2, valoare3, ...);    
</code>
</pre>

    <p> Să explicăm această sintaxă: </p>
    <ul>
        <li>
            "INSERT INTO" este cuvantul cheie care incepe instrucțiunea di ii spune SQL Server ca doriti sa adaugati date 
            intr-o tabela.
        </li>
        <li>
            "nume_table" este numele tabelului in care doriti sa inserati date.
        </li>
        <li>
            "(coloana1, coloana2, coloana3, ...)" specifica coloanele din tabel in care doriti sa inserati date.
        </li>
        <li>
            "VALUES" este cuvantul cheie care indica faptul ca urmeaza sa specificati valorile care trebuie inserate in tabel.
        </li>
        <li>
            "(valoare1, valoare2, valoare3, ...)" este o lista separata prin virgula a valorilor care trebuie inserate in tabel.
            Ordinea valorilor trebuie sa se potriveasca cu ordinea coloanelor specificate in linia anterioara.
        </li>
    </ul>

    <p>
        In continuare, vom insera date in tabelele create anterior, "angajati" si "premii".
    </p>
    <p>
        Inserarea datelor in tabelul "angajati".
    </p>
<pre>
<code>
<span class="key">INSERT INTO</span> angajati (id_angajat, nume_angajat, prenume_angajat, functia)
<span class="key">VALUES</span>
(1, 'Ursu', 'Vlad', 'Consultant'),
(2, 'Mihai', 'Andrei', 'Consultant')
</code>
</pre>

    <p> Inserarea datelor in tabelul "premii". </p>
<pre>
<code>
<span class="key">INSERT INTO</span> premii (id_premiu, suma, id_angajat)
<span class="key">VALUES</span>
(100, 3000, 1),
(101, 2500, 2)
</code>
</pre>

    <p> Cu ajutorul instructiunii SELECT vom selecta datele din tabelele create. </p>
    <hr>

    <h2 id="q3"> Selectarea datelor dintr-un tabel. Instructiunea SELECT </h2>
    <p>
        Instructiunea SELECT in SQL Server este folosita pentru a selecta date dintr-o tabela sau mai multe tabele. Sintaxa de 
        baza este urmatoarea:
    </p>

<pre>
<code>
<span class="key">SELECT</span> coloana1, coloana2, coloana3, ...
<span class="key">FROM</span> nume_tabel;
</code>
</pre>

    <p>
        Aceasta selecteaza toate datele din tabel si coloanele specificate vor fi afisate in rezultat. Puteti specifica orice numar de coloane pentru a fi afisate.
    </p>

    <p>
        Daca doriti sa selectati date specifice dintr-un tabel, puteti adauga conditii folosind clauza "WHERE". 
        <br>
        Sintaxa este:
    </p>

<pre>
<code>
<span class="key">SELECT</span> coloana1, coloana2, coloana3, ...
<span class="key">FROM</span> nume_tabel;
<span class="key">WHERE</span> conditie;
</code>
</pre>

    <p>
        Acest lucru va selecta numai datele care indeplinesc conditia specificata. 
    </p>

    <p>
        Sa luam ca exemplu tabelele create anterior.
        <br>
        Selectarea datelor din tabelul "angajati":
    </p>
<pre>
<code>
<span class="key">SELECT</span> id_angajat, nume_angajat, prenume_angajat, functia
<span class="key">FROM</span> angajati;
</code>
</pre>

    <h4> Rezultat: </h4>
    <img src="../script_results/angajati_result.png">

    <p> 
        <br>Selectarea datelor din tabelul "premii": 
    </p>

<pre>
<code>
<span class="key">SELECT</span> id_premiu, suma, id_angajat
<span class="key">FROM</span> premii;
</code>
</pre>

    <h4> Rezultat: </h4>
    <img src="../script_results/premii_result.png">

    <hr>

    <h2 id="q4"> Clauza WHERE </h2>

    <p>
        Cuvantul "WHERE" in SQL Server este folosit pentru a filtra randurile returnate de o instructiune SELECT. Aceasta va permite sa specificati o conditie care 
        trebuie indeplinita de randuri pentru a fi incluse in setul de rezultate.
    </p>
    <p>
        Sintaxa clauzei WHERE este:
    </p>

<pre>
<code>
<span class="key">SELECT</span> coloana1, coloana2, coloana3, ...
<span class="key">FROM</span> nume_tabel;
<span class="key">WHERE</span> conditie;
</code>
</pre>

    <p>
        Aici, coloana1, coloana2, etc. sunt numele coloanelor pe care doriti sa le selectati din tabel, nume_tabel este numele tabelului, iar "conditia" este conditia 
        de filtrare pe care doriti să o aplicati.
    </p>

    <p>
        De exemplu vrem sa selectam angajatul cu numele 'Ursu' si cu prenumele 'Mihai'. Codul va arata asa:
    </p>

<pre>
<code>
<span class="key">SELECT</span> id_angajat, nume_angajat, prenume_angajat, functia
<span class="key">FROM</span> angajati;
<span class="key">WHERE</span> nume_angajat = 'Ursu' and prenume_angajat = 'Vlad';
</code>
</pre>

    <h4> Rezultat: </h4>
    <img src="../script_results/angajat_ursu_vlad.png">
</body>
</html>